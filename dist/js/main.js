document.addEventListener("DOMContentLoaded",function(){let i=document.querySelector("#ct-user-menu");if(i){let m=function(){i.classList.remove("active"),d.setAttribute("aria-expanded","false")},p=function(){i.classList.add("active"),d.setAttribute("aria-expanded","true")};var v=m,c=p;let d=i.querySelector("#user-menu-btn"),y;i.addEventListener("mouseenter",function(){clearTimeout(y),p()}),i.addEventListener("mouseleave",function(){y=setTimeout(()=>{m()},200)})}});function S(){return window.innerWidth<=600?(document.querySelector("body").classList.add("view--mobile"),!0):(document.querySelector("body").classList.remove("view--mobile"),!1)}window.onresize=S;const n=document.getElementById("main-navigation"),M=n.querySelector(".nav-wrap");let N=document.getElementById("main-menu-btn"),P=document.querySelector("body").getAttribute("data-menu");W(n.querySelector("ul:not(.contextual-links"));let $=n.querySelector("ul");topLevelItems=$.querySelectorAll(":scope > li");function W(i,v){i!=null&&(v==null&&(v=1),sublist=i.querySelectorAll(":scope > li"),sublist.forEach(c=>{c.classList.add(`level-${v}`);let d=c.querySelector(":scope > *");if(v==1){c.classList.add("top-level","menu-item--top-level");try{c.querySelector("a").classList.add("top-level")}catch{}}d!=null&&d.classList.contains("top-level")&&c.querySelectorAll(":scope > ul > li").forEach(m=>{m.classList.add("top-level"),m.querySelector("ul")!=null&&m.querySelector("ul").classList.add("top-level-child"),expandedMenu=m.querySelectorAll(".top-level-child ul"),expandedMenu.forEach(p=>{p.classList.add("expanded-menu")})}),c.querySelector("ul")!=null&&(nextList=c.querySelector("ul"),W(nextList,v+1))}))}if(P==="mega"||P=="mega-priority"){let i=function(t,a,e=1,r=0,g=null,b={value:0},l="main"){const s=document.createElement("div"),o=document.createElement("div"),q=document.createElement("ul"),x=t.querySelectorAll(":scope > li");if(s.classList.add("panel","nav-panel"),s.setAttribute("data-level",e),b.value++,o.classList.add("panel-wrap"),q.classList.add("menu","list-menu","links"),e===1){let u=document.createElement("h2"),L=document.documentElement.getAttribute("data-sitename");u.innerHTML=`<a href="/" class="is-active nav-panel-header">${L}</a>`,o.append(u)}const f=new Map,w=document.createElement("button");if(w.classList.add("toggle-menu","menu-breadcrumb"),w.setAttribute("aria-label","Up one menu level"),w.innerText=l,o.append(w),x.forEach((u,L)=>{var T;const h=u.cloneNode(!0),I=u.querySelector("ul"),E=h.querySelector(":scope > a, :scope > span"),B=(E==null?void 0:E.textContent.trim())||`item-${L}`,C=B.toLowerCase().replace(/\s+/g,"-");if(I){if(E instanceof HTMLAnchorElement){const _=document.createElement("li");_.append(E.cloneNode(!0)),I.prepend(_)}const A=document.createElement("button");A.setAttribute("aria-expanded","false"),A.classList.add("toggle-menu","top-level-toggle"),A.textContent=B;const D=`nav-panel-${e+1}-${C}`;A.setAttribute("data-target",D),(T=h.querySelector(":scope > a, :scope > span"))==null||T.replaceWith(A),f.set(C,I)}h.querySelector("ul")&&h.querySelector("ul").remove(),q.appendChild(h)}),o.appendChild(q),s.appendChild(o),e===1)s.classList.add("is-active","primary-panel","is-active"),s.setAttribute("id","nav-panel-main");else{s.classList.add("hidden");const u=`nav-panel-${e}-${l}`;s.setAttribute("id",u)}const H=a.querySelectorAll(".panel.nav-panel");let k=null;for(let u of H)if(parseInt(u.getAttribute("data-level"))>e){k=u;break}k?a.insertBefore(s,k):a.appendChild(s);for(const[u,L]of f.entries())L.setAttribute("data-source-id",u),i(L,a,e+1,r,null,b,u)},d=function(t){let a=t.closest(".nav-panel.active"),e=document.getElementById(t.getAttribute("data-target")),r=t.closest(".nav-panel").getAttribute("data-level"),g=n.querySelectorAll(".nav-panel.active"),b=n.querySelectorAll(".active-toggle");t.classList.contains("menu-breadcrumb")?(a.classList.remove("is-active"),document.querySelector(".slide-out").classList.remove("slide-out"),setTimeout(function(){a.classList.add("hidden")},500)):(g.forEach(l=>{l!=e&&l.getAttribute("data-level")>r&&(l.classList.remove("active"),l.classList.remove("is-active"),l.classList.add("hidden"))}),b.forEach(l=>{l!=t&&l.setAttribute("aria-expanded","false")}),t.getAttribute("aria-expanded")==="false"?(t.setAttribute("aria-expanded","true"),e.classList.add("active"),e.classList.remove("hidden")):(t.setAttribute("aria-expanded","false"),e.classList.remove("active"),e.classList.add("hidden")),a.classList.contains("primary-panel")&&(a.classList.add("slide-out"),setTimeout(function(){e.classList.add("is-active")},5)))},p=function(){if(n.classList.contains("menu__mega"))if(!M.classList.contains("active"))n.querySelector("div.is-active"),n.querySelector(".nav-wrap").classList.add("active"),n.querySelector(".nav-panel.is-active").classList.add("active"),n.querySelector(".nav-panel.is-active .panel-wrap").classList.add("is-active"),N.setAttribute("aria-expanded","true"),document.body.classList.add("no-scroll"),document.getElementById("site-header").classList.add("full-height"),document.querySelector(".mode-switch").classList.remove("initial");else{if(n.querySelector(".is-active"),document.querySelector(".nav-wrap.active").classList.remove("active"),N.setAttribute("aria-expanded","false"),document.querySelector(".nav-panel.is-active:not(.primary-panel)")){var t=document.querySelector(".nav-panel.is-active:not(.primary-panel");t.classList.remove("is-active"),t.classList.add("hidden"),t.querySelector(".panel-wrap").classList.remove("active")}document.body.classList.remove("no-scroll"),document.getElementById("site-header").classList.remove("full-height"),document.querySelector(".mode-switch").classList.add("initial"),document.getElementById("main-menu-btn").focus()}};var O=i,z=d,U=p;try{localStorage.getItem("theme")=="light"?document.querySelector(".mode-switch").classList.add("light-mode"):localStorage.getItem("theme")=="dark"&&document.querySelector(".mode-switch").classList.add("dark-mode")}catch{}const v=document.querySelector("#main-navigation .menu"),c=document.createElement("div");c.classList.add("menu-panels-container"),i(v,c,1,0,null,{value:0}),document.querySelector(".menu--body").appendChild(c),v.remove(),n.onkeydown=function(t){let a="button, [href]",e=t.target;t.target.parentNode.nextElementSibling;let r=Array.from(M.querySelectorAll(a)).filter(o=>window.getComputedStyle(o).display!=="none"&&window.getComputedStyle(o).visibility!=="hidden"&&o.offsetWidth>0&&o.offsetHeight>0),g=r[0];r[r.length-1];let b=document.querySelector(".active-toggle"),l=e.parentNode.getAttribute("data-panel-parent");switch(t.keyCode){case 27:p();break;case 9:if(t.shiftKey){if(e===g){let o=document.querySelector(".primary-panel").querySelector("li:last-child");if(window.getComputedStyle(o).display==="none"){o.previousElementSibling.querySelector("button").focus(),t.preventDefault();break}document.querySelector(".site-level").querySelector("li:last-child").focus();break}if(e.closest("ul")&&e.closest("ul").classList.contains("site-level")||e.classList.contains("menu-close")||e.classList.contains("nav-panel-header")||e.parentNode.tagName=="h2")break;if(!e.parentNode.classList.contains("top-level")&&e.parentNode.previousElementSibling==null&&!e.closest("ul").classList.contains("expanded-menu")){t.preventDefault(),b.focus(),b.classList.remove("active-toggle"),e.closest(".nav-panel").classList.remove("is-active"),targetPanel.classList.remove("hidden","slide-out"),e.closest(".nav-panel").classList.add("hidden");break}break}else{if(e.classList.contains("top-level-toggle")){let o=e.closest("ul.menu").querySelectorAll("li.menu-item"),q=Array.from(o).filter(f=>window.getComputedStyle(f).display!=="none"&&window.getComputedStyle(f).visibility!=="hidden"&&f.offsetWidth>0&&f.offsetHeight>0);e.classList.remove("active-toggle"),e.setAttribute("aria-expanded",!1);let x=document.querySelectorAll(".nav-panel--child.is-active");x.length>0&&x.forEach(f=>{f.classList.remove("is-active"),f.classList.add("hidden")}),e.parentNode===q[q.length-1]&&(g.focus(),t.preventDefault());break}break}case 37:if(e.parentNode.classList.contains("top-level"))break;if(e.parentNode.parentNode.classList.contains("expanded-menu")){l=e.closest(".parent").getAttribute("data-panel-parent"),e.closest(".nav-panel").classList.remove("is-active"),targetPanel.classList.remove("hidden","slide-out"),e.closest(".nav-panel").classList.add("hidden"),document.querySelector(`[data-panel-id="${l}"]`).querySelector("button").classList.remove("is-active"),document.querySelector(`[data-panel-id="${l}"]`).querySelector("button").focus();break}e.parentNode.classList.contains("menu-item")&&targetPanel!=null&&(e.closest(".nav-panel").classList.remove("is-active"),targetPanel.classList.remove("hidden","slide-out"),e.closest(".nav-panel").classList.add("hidden"),document.querySelector(`[data-panel-id="${l}"]`).querySelector("button").classList.remove("is-active"),document.querySelector(`[data-panel-id="${l}"]`).querySelector("button").focus());break;case 38:if(e.classList.contains("nav-panel-header")){g.focus();break}if(e.tagName=="BUTTON"){var s=document.querySelector(".nav-panel.is-active:not(.primary-panel");if(e.parentNode.previousElementSibling==null){s&&(s.classList.remove("is-active"),s.classList.add("hidden"),s.querySelector(".panel-wrap").classList.remove("active")),e.parentNode.closest(".panel-wrap").querySelector(".nav-panel-header").focus();break}else{s&&(s.classList.remove("is-active"),s.classList.add("hidden"),s.querySelector(".panel-wrap").classList.remove("active")),e.parentNode.previousElementSibling.firstElementChild.focus();break}}if(e.closest(".expanded-menu")!=null&&e.parentNode.previousElementSibling==null){e.closest(".menu-item--expanded").querySelector("ul > li > a").focus();break}if(e.parentNode.previousElementSibling!=null&&e.parentNode.previousElementSibling.classList.contains("menu-item--expanded")){e.parentNode.previousElementSibling.querySelector("ul > li:last-child > a").focus();break}if(e.parentNode.classList.contains("menu-item")&&e.parentNode.previousElementSibling!=null){e.parentNode.previousElementSibling.firstElementChild.focus();break}else break;case 39:if(e.getAttribute("data-target")==null)break;e.getAttribute("data-target")!=null&&(e.classList.add("active-toggle"),d(e),document.getElementById(e.getAttribute("data-target")).querySelector("ul li a").focus());break;case 40:if(e.tagName=="BUTTON"){var s=document.querySelector(".nav-panel.is-active:not(.primary-panel");if(e.parentNode.nextElementSibling!=null){e.parentNode.nextElementSibling.firstElementChild.focus(),s&&(s.classList.remove("is-active"),s.classList.add("hidden"),s.querySelector(".panel-wrap").classList.remove("active"));break}}if(e.parentNode.classList.contains("parent")){e.parentNode.querySelector(":scope > ul > li > a").focus();break}if(e.classList.contains("nav-panel-header")){e.parentNode.nextSibling.querySelector("li").firstElementChild.focus();break}if(e.classList.contains("menu-close")){document.querySelector(".nav-panel-header.active-site").focus();break}if(e.closest("ul").classList.contains("expanded-menu")&&e.parentNode.nextElementSibling==null){e.closest(".parent").nextElementSibling.querySelector("a").focus();break}if(e.parentNode.classList.contains("menu-item")&&e.parentNode.nextElementSibling!=null){e.parentNode.nextElementSibling.firstElementChild.focus();break}else break}},document.querySelectorAll("#main-navigation .nav-wrap button.toggle-menu").forEach(function(t){t.addEventListener("click",function(a){a.target.classList.add("active-toggle"),d(a.target)})}),document.querySelector("#main-navigation .nav-wrap").addEventListener("click",function(t){t.target.classList.contains("nav-wrap")&&(document.querySelector(".nav-wrap").classList.remove("active"),document.querySelector("body").classList.remove("no-scroll"),document.querySelector("#main-menu-btn").setAttribute("aria-expanded","false"),document.getElementById("site-header").classList.remove("full-height"))}),parentLink="",n.querySelectorAll(".toggle-main").forEach(t=>{t.addEventListener("click",function(){p()})}),document.querySelectorAll("a").forEach(t=>{t.addEventListener("click",function(){t.href.indexOf("#")!=-1&&p()})})}else if(document.querySelector("body").getAttribute("data-menu")==="dropdown"){let c=function(){document.getElementById("site-header").classList.remove("full-height"),document.body.classList.remove("no-scroll"),n.classList.contains("menu__dropdown")&&(n.classList.remove("mobile--active"),n.querySelector(".nav-wrap").classList.remove("active")),n.classList.contains("menu--panel")&&(n.querySelector("div.is-active"),n.querySelector(".nav-wrap").classList.remove("active")),document.getElementById("main-menu-btn").getAttribute("aria-expanded")=="false"?document.getElementById("main-menu-btn").setAttribute("aria-expanded","true"):document.getElementById("main-menu-btn").setAttribute("aria-expanded","false")},d=function(){document.getElementById("site-header").classList.add("full-height"),document.body.classList.add("no-scroll"),n.classList.contains("menu__dropdown")&&(n.classList.add("mobile--active"),n.querySelector(".nav-wrap").classList.add("active")),n.classList.contains("menu--panel")&&(n.querySelector("div.is-active"),n.querySelector(".nav-wrap").classList.add("active")),document.getElementById("main-menu-btn").getAttribute("aria-expanded")=="false"?document.getElementById("main-menu-btn").setAttribute("aria-expanded","true"):document.getElementById("main-menu-btn").setAttribute("aria-expanded","false")},y=function(t){if(S()==!1)if(t.getAttribute("aria-expanded")=="true")t.setAttribute("aria-expanded","false"),t.closest(".menu-item").querySelector(".menu__submenu").classList.remove("menu--active");else{try{t.closest(".parent").classList.contains("level-1")&&(document.querySelector(".menu--toggle-active").classList.remove("menu--toggle-active"),document.querySelector(".menu--toggle-active").setAttribute("aria-expanded",!1),document.querySelector(".menu--active").classList.remove("menu--active"))}catch{}t.setAttribute("aria-expanded","true"),t.closest(".menu-item").querySelector(".menu__submenu").classList.add("menu--active"),t.classList.add("menu--toggle-active")}else if(t.getAttribute("aria-expanded")=="true")t.setAttribute("aria-expanded","false"),t.closest(".menu-item").querySelector(".menu__submenu").classList.remove("menu--active");else{try{document.querySelector(".menu--toggle-active").setAttribute("aria-expanded",!1),document.querySelector(".menu--toggle-active").classList.remove("menu--toggle-active")}catch{}t.setAttribute("aria-expanded","true"),t.closest(".menu-item").querySelector(".menu__submenu").classList.add("menu--active"),t.classList.add("menu--toggle-active")}},m=function(t){menuPosition=t.getBoundingClientRect(),menuPosition.right>window.innerWidth&&t.classList.add("menu-left")};var F=c,K=d,R=y,V=m;let i=n.querySelectorAll(".menu-item");topLevel=n.querySelectorAll(".menu__dropdown > .level-1.top-level > a"),i.forEach(t=>{try{t.querySelector(".menu").classList.add("menu__submenu"),t.querySelectorAll(".menu li").forEach(r=>{r.classList.add("menu-item--submenu-item")});let e=document.createElement("div");menuItemToggle=document.createElement("button"),menuItemToggle.classList.add("toggle-menu"),menuItemToggle.setAttribute("aria-expanded","false"),menuItemToggle.setAttribute("aria-haspopup","true"),menuItemToggle.innerHTML="<span class='sr-only'>Expand Menu</span>",e.classList.add("menu-item-wrap"),e.append(t.querySelector("a")),e.append(menuItemToggle),t.prepend(e)}catch{}S()==!1&&(t.onmouseover=function(){try{t.querySelector(".menu__submenu").classList.add("menu--active"),t.classList.add("parent--active")}catch{}},t.onmouseleave=function(){try{t.querySelector(".menu__submenu").classList.remove("menu--active"),t.classList.remove("parent--active")}catch{}}),t.onkeydown=function(a){switch(a.keyCode){case 27:if(S()==!0){a.preventDefault();let e=document.querySelectorAll(".menu--active");activeToggles=document.querySelectorAll(".menu--toggle-active"),e.forEach(r=>{r.classList.remove("menu--active")}),activeToggles.forEach(r=>{r.classList.remove("menu--toggle-active"),r.setAttribute("aria-expanded","false")}),document.querySelector(".toggle-menu-mobile").setAttribute("aria-expanded","false"),document.querySelector(".toggle-menu-mobile").focus();break}if(S()==!1){a.preventDefault();try{a.target.closest(".menu-item--top-level").querySelector(".toggle-menu").focus(),document.querySelector(".menu--active").classList.remove("menu--active"),document.querySelector(".menu--toggle-active").setAttribute("aria-expanded",!1),document.querySelector(".menu--toggle-active").classList.remove("menu--toggle-active")}catch{}break}case 9:if(a.shiftKey&&S()==!1){if(a.target.parentNode.classList.contains("top-level"))try{a.target.closest(".menu-item").querySelector(".toggle-menu").setAttribute("aria-expanded",!1),a.target.closest(".menu-item").querySelector(".toggle-menu").classList.remove(".menu--toggle-active"),a.target.closest(".menu-item").querySelector(".menu--active").classList.remove("menu--active")}catch{}break}else if(S()==!1){if(a.target.closest(".menu-item").classList.contains("menu-item--submenu-item")&&a.target.parentNode.nextElementSibling==null){try{a.target.closest(".menu-item--top-level").querySelector(".menu--toggle-active").setAttribute("aria-expanded",!1),a.target.closest(".menu-item--top-level").querySelector(".menu--toggle-active").classList.remove("menu--toggle-active"),a.target.closest(".menu-item--top-level").querySelector(".menu--active").classList.remove("menu--active")}catch{}break}if(a.target.closest(".menu-item").classList.contains("menu-item--submenu-item")&&a.target.parentNode.nextElementSibling==null)break}break}}}),topLevel.forEach(t=>{t.addEventListener("focusin",function(a){let e=document.querySelector(".menu--active");e&&(e.classList.remove("menu--active"),document.querySelectorAll('.toggle-menu[aria-expanded="true"]').forEach(g=>{g.setAttribute("aria-expanded","false")}))})}),n.addEventListener("focusout",function(){setTimeout(()=>{if(!document.activeElement.closest("#main-navigation")){let t=document.querySelectorAll(".menu--active"),a=document.querySelectorAll(".menu--toggle-active");t.forEach(e=>{e.classList.remove("menu--active")}),a.forEach(e=>{e.classList.remove("menu--toggle-active"),e.setAttribute("aria-expanded","false")})}},100)}),$.querySelectorAll(".toggle-menu").forEach(t=>{t.addEventListener("click",function(){y(t)})}),N.addEventListener("click",function(){this.parentNode.querySelector(".nav-wrap").classList.contains("active")?c():d()}),document.querySelectorAll(".menu__submenu").forEach(t=>{m(t)})}
//# sourceMappingURL=main.js.map
