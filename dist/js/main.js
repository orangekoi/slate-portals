document.addEventListener("DOMContentLoaded",function(){let r=document.querySelector("#ct-user-menu");if(r){let n=function(){r.classList.remove("active"),d.setAttribute("aria-expanded","false")},c=function(){r.classList.add("active"),d.setAttribute("aria-expanded","true")};var p=n,o=c;let d=r.querySelector("#user-menu-btn"),y;r.addEventListener("mouseenter",function(){clearTimeout(y),c()}),r.addEventListener("mouseleave",function(){y=setTimeout(()=>{n()},200)})}});function S(){return window.innerWidth<=600?(document.querySelector("body").classList.add("view--mobile"),!0):(document.querySelector("body").classList.remove("view--mobile"),!1)}window.onresize=S;const l=document.getElementById("main-navigation"),_=l.querySelector(".nav-wrap");let N=document.getElementById("main-menu-btn"),P=document.querySelector("body").getAttribute("data-menu");H(l.querySelector("ul:not(.contextual-links"));let $=l.querySelector("ul");topLevelItems=$.querySelectorAll(":scope > li");function H(r,p){r!=null&&(p==null&&(p=1),sublist=r.querySelectorAll(":scope > li"),sublist.forEach(o=>{o.classList.add(`level-${p}`);let d=o.querySelector(":scope > *");if(p==1){o.classList.add("top-level","menu-item--top-level");try{o.querySelector("a").classList.add("top-level")}catch{}}d!=null&&d.classList.contains("top-level")&&o.querySelectorAll(":scope > ul > li").forEach(n=>{n.classList.add("top-level"),n.querySelector("ul")!=null&&n.querySelector("ul").classList.add("top-level-child"),expandedMenu=n.querySelectorAll(".top-level-child ul"),expandedMenu.forEach(c=>{c.classList.add("expanded-menu")})}),o.querySelector("ul")!=null&&(nextList=o.querySelector("ul"),H(nextList,p+1))}))}if(P==="mega"||P=="mega-priority"){let r=function(t,a,e=1,s=0,f=null,L={value:0},u="main"){const i=document.createElement("div"),m=document.createElement("div"),q=document.createElement("ul"),x=t.querySelectorAll(":scope > li");if(i.classList.add("panel","nav-panel"),i.setAttribute("data-level",e),L.value++,m.classList.add("panel-wrap"),q.classList.add("menu","list-menu","links"),e===1){let v=document.createElement("h2"),b=document.documentElement.getAttribute("data-sitename");v.innerHTML=`<a href="/" class="is-active nav-panel-header">${b}</a>`,m.append(v)}const g=new Map,w=document.createElement("button");if(w.classList.add("toggle-menu","menu-breadcrumb"),w.setAttribute("aria-label","Up one menu level"),w.innerText=u,m.append(w),x.forEach((v,b)=>{var C;const h=v.cloneNode(!0),I=v.querySelector("ul"),E=h.querySelector(":scope > a, :scope > span"),B=(E==null?void 0:E.textContent.trim())||`item-${b}`,T=B.toLowerCase().replace(/\s+/g,"-");if(I){if(E instanceof HTMLAnchorElement){const M=document.createElement("li");M.append(E.cloneNode(!0)),I.prepend(M)}const A=document.createElement("button");A.setAttribute("aria-expanded","false"),A.classList.add("toggle-menu","top-level-toggle"),A.textContent=B;const D=`nav-panel-${e+1}-${T}`;A.setAttribute("data-target",D),(C=h.querySelector(":scope > a, :scope > span"))==null||C.replaceWith(A),g.set(T,I)}h.querySelector("ul")&&h.querySelector("ul").remove(),q.appendChild(h)}),m.appendChild(q),i.appendChild(m),e===1)i.classList.add("is-active","primary-panel","is-active"),i.setAttribute("id","nav-panel-main");else{i.classList.add("hidden");const v=`nav-panel-${e}-${u}`;i.setAttribute("id",v)}const W=a.querySelectorAll(".panel.nav-panel");let k=null;for(let v of W)if(parseInt(v.getAttribute("data-level"))>e){k=v;break}k?a.insertBefore(i,k):a.appendChild(i);for(const[v,b]of g.entries())b.setAttribute("data-source-id",v),r(b,a,e+1,s,null,L,v)},d=function(t){let a=t.closest(".nav-panel.active"),e=document.getElementById(t.getAttribute("data-target")),s=t.closest(".nav-panel").getAttribute("data-level"),f=l.querySelectorAll(".nav-panel.active"),L=l.querySelectorAll(".active-toggle");t.classList.contains("menu-breadcrumb")?(a.classList.remove("is-active"),document.querySelector(".slide-out").classList.remove("slide-out"),setTimeout(function(){a.classList.add("hidden")},500)):(f.forEach(u=>{u!=e&&u.getAttribute("data-level")>s&&(u.classList.remove("active"),u.classList.remove("is-active"),u.classList.add("hidden"))}),L.forEach(u=>{u!=t&&u.setAttribute("aria-expanded","false")}),t.getAttribute("aria-expanded")==="false"?(t.setAttribute("aria-expanded","true"),e.classList.add("active"),e.classList.remove("hidden")):(t.setAttribute("aria-expanded","false"),e.classList.remove("active"),e.classList.add("hidden")),a.classList.contains("primary-panel")&&(a.classList.add("slide-out"),setTimeout(function(){e.classList.add("is-active")},5)))},c=function(){if(l.classList.contains("menu__mega"))if(!_.classList.contains("active"))l.querySelector("div.is-active"),l.querySelector(".nav-wrap").classList.add("active"),l.querySelector(".nav-panel.is-active").classList.add("active"),l.querySelector(".nav-panel.is-active .panel-wrap").classList.add("is-active"),N.setAttribute("aria-expanded","true"),document.body.classList.add("no-scroll"),document.getElementById("site-header").classList.add("full-height"),document.querySelector(".mode-switch").classList.remove("initial");else{if(l.querySelector(".is-active"),document.querySelector(".nav-wrap.active").classList.remove("active"),N.setAttribute("aria-expanded","false"),document.querySelector(".nav-panel.is-active:not(.primary-panel)")){var t=document.querySelector(".nav-panel.is-active:not(.primary-panel");t.classList.remove("is-active"),t.classList.add("hidden"),t.querySelector(".panel-wrap").classList.remove("active")}document.body.classList.remove("no-scroll"),document.getElementById("site-header").classList.remove("full-height"),document.querySelector(".mode-switch").classList.add("initial"),document.getElementById("main-menu-btn").focus()}};var O=r,z=d,U=c;try{localStorage.getItem("theme")=="light"?document.querySelector(".mode-switch").classList.add("light-mode"):localStorage.getItem("theme")=="dark"&&document.querySelector(".mode-switch").classList.add("dark-mode")}catch{}const p=document.querySelector("#main-navigation .menu"),o=document.createElement("div");o.classList.add("menu-panels-container"),r(p,o,1,0,null,{value:0}),document.querySelector(".menu--body").appendChild(o),p.remove(),l.onkeydown=function(t){let a="button, [href]",e=t.target;t.target.parentNode.nextElementSibling;let s=Array.from(_.querySelectorAll(a)).filter(m=>window.getComputedStyle(m).display!=="none"&&window.getComputedStyle(m).visibility!=="hidden"&&m.offsetWidth>0&&m.offsetHeight>0),f=s[0];s[s.length-1];let L=document.querySelector(".active-toggle"),u=e.parentNode.getAttribute("data-panel-parent");switch(t.keyCode){case 27:c();break;case 9:if(t.shiftKey){if(e===f){let m=document.querySelector(".primary-panel").querySelector("li:last-child");if(window.getComputedStyle(m).display==="none"){m.previousElementSibling.querySelector("button").focus(),t.preventDefault();break}document.querySelector(".site-level").querySelector("li:last-child").focus();break}if(e.closest("ul")&&e.closest("ul").classList.contains("site-level")||e.classList.contains("menu-close")||e.classList.contains("nav-panel-header")||e.parentNode.tagName=="h2")break;if(!e.parentNode.classList.contains("top-level")&&e.parentNode.previousElementSibling==null&&!e.closest("ul").classList.contains("expanded-menu")){t.preventDefault(),L.focus(),L.classList.remove("active-toggle"),e.closest(".nav-panel").classList.remove("is-active"),targetPanel.classList.remove("hidden","slide-out"),e.closest(".nav-panel").classList.add("hidden");break}break}else{if(e.classList.contains("top-level-toggle")){let m=e.closest("ul.menu").querySelectorAll("li.menu-item"),q=Array.from(m).filter(g=>window.getComputedStyle(g).display!=="none"&&window.getComputedStyle(g).visibility!=="hidden"&&g.offsetWidth>0&&g.offsetHeight>0);e.classList.remove("active-toggle"),e.setAttribute("aria-expanded",!1);let x=document.querySelectorAll(".nav-panel--child.is-active");x.length>0&&x.forEach(g=>{g.classList.remove("is-active"),g.classList.add("hidden")}),e.parentNode===q[q.length-1]&&(f.focus(),t.preventDefault());break}break}case 37:if(e.parentNode.classList.contains("top-level"))break;if(e.parentNode.parentNode.classList.contains("expanded-menu")){u=e.closest(".parent").getAttribute("data-panel-parent"),e.closest(".nav-panel").classList.remove("is-active"),targetPanel.classList.remove("hidden","slide-out"),e.closest(".nav-panel").classList.add("hidden"),document.querySelector(`[data-panel-id="${u}"]`).querySelector("button").classList.remove("is-active"),document.querySelector(`[data-panel-id="${u}"]`).querySelector("button").focus();break}e.parentNode.classList.contains("menu-item")&&targetPanel!=null&&(e.closest(".nav-panel").classList.remove("is-active"),targetPanel.classList.remove("hidden","slide-out"),e.closest(".nav-panel").classList.add("hidden"),document.querySelector(`[data-panel-id="${u}"]`).querySelector("button").classList.remove("is-active"),document.querySelector(`[data-panel-id="${u}"]`).querySelector("button").focus());break;case 38:if(e.classList.contains("nav-panel-header")){f.focus();break}if(e.tagName=="BUTTON"){var i=document.querySelector(".nav-panel.is-active:not(.primary-panel");if(e.parentNode.previousElementSibling==null){i&&(i.classList.remove("is-active"),i.classList.add("hidden"),i.querySelector(".panel-wrap").classList.remove("active")),e.parentNode.closest(".panel-wrap").querySelector(".nav-panel-header").focus();break}else{i&&(i.classList.remove("is-active"),i.classList.add("hidden"),i.querySelector(".panel-wrap").classList.remove("active")),e.parentNode.previousElementSibling.firstElementChild.focus();break}}if(e.closest(".expanded-menu")!=null&&e.parentNode.previousElementSibling==null){e.closest(".menu-item--expanded").querySelector("ul > li > a").focus();break}if(e.parentNode.previousElementSibling!=null&&e.parentNode.previousElementSibling.classList.contains("menu-item--expanded")){e.parentNode.previousElementSibling.querySelector("ul > li:last-child > a").focus();break}if(e.parentNode.classList.contains("menu-item")&&e.parentNode.previousElementSibling!=null){e.parentNode.previousElementSibling.firstElementChild.focus();break}else break;case 39:if(e.getAttribute("data-target")==null)break;e.getAttribute("data-target")!=null&&(e.classList.add("active-toggle"),d(e),document.getElementById(e.getAttribute("data-target")).querySelector("ul li a").focus());break;case 40:if(e.tagName=="BUTTON"){var i=document.querySelector(".nav-panel.is-active:not(.primary-panel");if(e.parentNode.nextElementSibling!=null){e.parentNode.nextElementSibling.firstElementChild.focus(),i&&(i.classList.remove("is-active"),i.classList.add("hidden"),i.querySelector(".panel-wrap").classList.remove("active"));break}}if(e.parentNode.classList.contains("parent")){e.parentNode.querySelector(":scope > ul > li > a").focus();break}if(e.classList.contains("nav-panel-header")){e.parentNode.nextSibling.querySelector("li").firstElementChild.focus();break}if(e.classList.contains("menu-close")){document.querySelector(".nav-panel-header.active-site").focus();break}if(e.closest("ul").classList.contains("expanded-menu")&&e.parentNode.nextElementSibling==null){e.closest(".parent").nextElementSibling.querySelector("a").focus();break}if(e.parentNode.classList.contains("menu-item")&&e.parentNode.nextElementSibling!=null){e.parentNode.nextElementSibling.firstElementChild.focus();break}else break}},document.querySelectorAll("#main-navigation .nav-wrap button.toggle-menu").forEach(function(t){t.addEventListener("click",function(a){a.target.classList.add("active-toggle"),d(a.target)})}),document.querySelector("#main-navigation .nav-wrap").addEventListener("click",function(t){t.target.classList.contains("nav-wrap")&&(document.querySelector(".nav-wrap").classList.remove("active"),document.querySelector("body").classList.remove("no-scroll"),document.querySelector("#main-menu-btn").setAttribute("aria-expanded","false"),document.getElementById("site-header").classList.remove("full-height"))}),parentLink="",l.querySelectorAll(".toggle-main").forEach(t=>{t.addEventListener("click",function(){c()})}),document.querySelectorAll("a").forEach(t=>{t.addEventListener("click",function(){t.href.indexOf("#")!=-1&&c()})})}else if(document.querySelector("body").getAttribute("data-menu")==="dropdown"){let o=function(){document.getElementById("site-header").classList.remove("full-height"),document.body.classList.remove("no-scroll"),l.classList.contains("menu__dropdown")&&(l.classList.remove("mobile--active"),l.querySelector(".nav-wrap").classList.remove("active")),l.classList.contains("menu--panel")&&(l.querySelector("div.is-active"),l.querySelector(".nav-wrap").classList.remove("active")),document.getElementById("main-menu-btn").getAttribute("aria-expanded")=="false"?document.getElementById("main-menu-btn").setAttribute("aria-expanded","true"):document.getElementById("main-menu-btn").setAttribute("aria-expanded","false")},d=function(){document.getElementById("site-header").classList.add("full-height"),document.body.classList.add("no-scroll"),l.classList.contains("menu__dropdown")&&(l.classList.add("mobile--active"),l.querySelector(".nav-wrap").classList.add("active")),l.classList.contains("menu--panel")&&(l.querySelector("div.is-active"),l.querySelector(".nav-wrap").classList.add("active")),document.getElementById("main-menu-btn").getAttribute("aria-expanded")=="false"?document.getElementById("main-menu-btn").setAttribute("aria-expanded","true"):document.getElementById("main-menu-btn").setAttribute("aria-expanded","false")},y=function(t){if(S()==!1)if(t.getAttribute("aria-expanded")=="true")t.setAttribute("aria-expanded","false"),t.closest(".menu-item").querySelector(".menu__submenu").classList.remove("menu--active");else{try{t.closest(".parent").classList.contains("level-1")&&(document.querySelector(".menu--toggle-active").classList.remove("menu--toggle-active"),document.querySelector(".menu--toggle-active").setAttribute("aria-expanded",!1),document.querySelector(".menu--active").classList.remove("menu--active"))}catch{}t.setAttribute("aria-expanded","true"),t.closest(".menu-item").querySelector(".menu__submenu").classList.add("menu--active"),t.classList.add("menu--toggle-active")}else if(t.getAttribute("aria-expanded")=="true")t.setAttribute("aria-expanded","false"),t.closest(".menu-item").querySelector(".menu__submenu").classList.remove("menu--active");else{try{document.querySelector(".menu--toggle-active").setAttribute("aria-expanded",!1),document.querySelector(".menu--toggle-active").classList.remove("menu--toggle-active")}catch{}t.setAttribute("aria-expanded","true"),t.closest(".menu-item").querySelector(".menu__submenu").classList.add("menu--active"),t.classList.add("menu--toggle-active")}},n=function(t){menuPosition=t.getBoundingClientRect(),menuPosition.right>window.innerWidth&&t.classList.add("menu-left")};var F=o,G=d,K=y,R=n;let r=l.querySelectorAll(".menu-item");topLevel=l.querySelectorAll(".menu__dropdown > .level-1.top-level > a"),r.forEach(t=>{try{t.querySelector(".menu").classList.add("menu__submenu"),t.querySelectorAll(".menu li").forEach(s=>{s.classList.add("menu-item--submenu-item")});let e=document.createElement("div");menuItemToggle=document.createElement("button"),menuItemToggle.classList.add("toggle-menu"),menuItemToggle.setAttribute("aria-expanded","false"),menuItemToggle.setAttribute("aria-haspopup","true"),menuItemToggle.innerHTML="<span class='sr-only'>Expand Menu</span>",e.classList.add("menu-item-wrap"),e.append(t.querySelector("a")),e.append(menuItemToggle),t.prepend(e)}catch{}S()==!1&&(t.onmouseover=function(){try{t.querySelector(".menu__submenu").classList.add("menu--active"),t.classList.add("parent--active")}catch{}},t.onmouseleave=function(){try{t.querySelector(".menu__submenu").classList.remove("menu--active"),t.classList.remove("parent--active")}catch{}}),t.onkeydown=function(a){switch(a.keyCode){case 27:if(S()==!0){a.preventDefault();let e=document.querySelectorAll(".menu--active");activeToggles=document.querySelectorAll(".menu--toggle-active"),e.forEach(s=>{s.classList.remove("menu--active")}),activeToggles.forEach(s=>{s.classList.remove("menu--toggle-active"),s.setAttribute("aria-expanded","false")}),document.querySelector(".toggle-menu-mobile").setAttribute("aria-expanded","false"),document.querySelector(".toggle-menu-mobile").focus();break}if(S()==!1){a.preventDefault();try{a.target.closest(".menu-item--top-level").querySelector(".toggle-menu").focus(),document.querySelector(".menu--active").classList.remove("menu--active"),document.querySelector(".menu--toggle-active").setAttribute("aria-expanded",!1),document.querySelector(".menu--toggle-active").classList.remove("menu--toggle-active")}catch{}break}case 9:if(a.shiftKey&&S()==!1){if(a.target.parentNode.classList.contains("top-level"))try{a.target.closest(".menu-item").querySelector(".toggle-menu").setAttribute("aria-expanded",!1),a.target.closest(".menu-item").querySelector(".toggle-menu").classList.remove(".menu--toggle-active"),a.target.closest(".menu-item").querySelector(".menu--active").classList.remove("menu--active")}catch{}break}else if(S()==!1){if(a.target.closest(".menu-item").classList.contains("menu-item--submenu-item")&&a.target.parentNode.nextElementSibling==null){try{a.target.closest(".menu-item--top-level").querySelector(".menu--toggle-active").setAttribute("aria-expanded",!1),a.target.closest(".menu-item--top-level").querySelector(".menu--toggle-active").classList.remove("menu--toggle-active"),a.target.closest(".menu-item--top-level").querySelector(".menu--active").classList.remove("menu--active")}catch{}break}if(a.target.closest(".menu-item").classList.contains("menu-item--submenu-item")&&a.target.parentNode.nextElementSibling==null)break}break}}}),topLevel.forEach(t=>{t.addEventListener("focusin",function(a){let e=document.querySelector(".menu--active");e&&(e.classList.remove("menu--active"),document.querySelectorAll('.toggle-menu[aria-expanded="true"]').forEach(f=>{f.setAttribute("aria-expanded","false")}))})}),l.addEventListener("focusout",function(){setTimeout(()=>{if(!document.activeElement.closest("#main-navigation")){let t=document.querySelectorAll(".menu--active"),a=document.querySelectorAll(".menu--toggle-active");t.forEach(e=>{e.classList.remove("menu--active")}),a.forEach(e=>{e.classList.remove("menu--toggle-active"),e.setAttribute("aria-expanded","false")})}},100)}),$.querySelectorAll(".toggle-menu").forEach(t=>{t.addEventListener("click",function(){y(t)})}),N.addEventListener("click",function(){this.parentNode.querySelector(".nav-wrap").classList.contains("active")?o():d()}),document.querySelectorAll(".menu__submenu").forEach(t=>{n(t)})}document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".accordion-group").forEach((n,c)=>{const t=n.querySelectorAll(".accordion-trigger");var a=document.querySelectorAll(".accordion-item");a.forEach((e,s)=>{n.setAttribute("id","accordion-group-"+c),e.querySelector("h3");var f=e.querySelector(".accordion-panel");e.querySelector("button"),f.setAttribute("id","panel-"+c+"-"+s)}),t.forEach(e=>{e.addEventListener("click",function(){y(e),d(e)==!1?e.closest(".accordion-group").querySelector(".expand-all").innerHTML="Expand All":e.closest(".accordion-group").querySelector(".expand-all").innerHTML="Collapse All"})})});var p=document.querySelectorAll(".expand-all");p.forEach((n,c)=>{n.addEventListener("click",function(){o(n,c)})});function o(n,c){var t=document.getElementById("accordion-group-"+c),a=t.querySelectorAll(".accordion-trigger"),e=t.querySelectorAll(".accordion-item");d(n)==!0?(n.classList.remove("collapse-all"),n.innerHTML="Expand All",a.forEach(s=>{s.classList.remove("active"),s.setAttribute("aria-expanded","false")}),e.forEach(s=>{s.classList.remove("active")})):(n.classList.add("collapse-all"),n.innerHTML="Collapse All",a.forEach(s=>{s.classList.add("active"),s.setAttribute("aria-expanded","true")}),e.forEach(s=>{s.classList.add("active")}))}function d(n){var c=n.closest(".accordion-group").querySelectorAll(".accordion-trigger");let t=!0;return c.forEach(a=>{a.classList.contains("active")||(t=!1)}),t}function y(n){n.getAttribute("aria-controls"),n.classList.toggle("active"),n.closest(".accordion-item").classList.toggle("active");var c=n.getAttribute("aria-expanded");c=="false"?n.setAttribute("aria-expanded",!0):n.setAttribute("aria-expanded",!1)}});
//# sourceMappingURL=main.js.map
